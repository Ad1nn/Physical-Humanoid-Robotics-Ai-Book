Project: Physical AI Book - User Authentication, Personalization & TranslationFeature 1: Better Auth Signup/SigninAuthentication Flow:- Signup page with form: - Email, password, confirm password - OAuth buttons: "Continue with Google", "Continue with GitHub" - Terms acceptance checkbox - "Create Account" button- After signup â†’ Background questionnaire (one-time)- Signin page with: - Email, password fields - "Forgot password?" link - OAuth options - "Sign In" button- User profile page: - View/edit background information - Change password - Delete account optionBackground Questionnaire (8 questions):1. Python experience: None / Beginner / Intermediate / Advanced2. ROS knowledge: None / Heard of it / Basic / Experienced3. AI/ML background: Basic / Intermediate / Advanced / Expert4. Simulation tools: None / Basic (Gazebo) / Advanced (Unity/Isaac)5. Linux comfort: None / Basic commands / Intermediate / Power user6. Robotics hardware: None / Hobby projects / Professional work7. GPU available: None / Basic (<6GB) / Good (6-12GB) / High-end (>12GB)8. Learning goal: Free text (optional, 200 chars max)User Profile Storage (Postgres):`sqlCREATE TABLE users ( id UUID PRIMARY KEY, email VARCHAR UNIQUE, password_hash VARCHAR, created_at TIMESTAMP, last_login TIMESTAMP);CREATE TABLE user_profiles ( user_id UUID REFERENCES users(id), python_level VARCHAR, ros_knowledge VARCHAR, ai_ml_background VARCHAR, simulation_experience VARCHAR, linux_comfort VARCHAR, hardware_experience VARCHAR, gpu_availability VARCHAR, learning_goal TEXT, updated_at TIMESTAMP);CREATE TABLE user_preferences ( user_id UUID REFERENCES users(id), personalization_enabled BOOLEAN DEFAULT true, language_preference VARCHAR DEFAULT 'en', theme VARCHAR DEFAULT 'dark');`Feature 2: Content PersonalizationPersonalization Button:- Location: Top of every chapter page- UI: Toggle button "Personalize for my level"- States: Off (default content) / On (personalized)- Badge showing detected level: "Viewing: Beginner" / "Intermediate" / "Advanced"Personalization Logic:- Calculate user level from background: - Beginner: Python Beginner + No ROS + Basic AI/ML - Intermediate: Python Intermediate + Some ROS + Intermediate AI/ML - Advanced: Python Advanced + ROS Experienced + Advanced AI/ML- Content adjustments per level:**Beginner Mode:**- More detailed explanations of basic concepts- Every technical term defined inline- Simpler code examples with extensive comments- Step-by-step instructions for setup- Links to prerequisite learning materials**Intermediate Mode:**- Balanced explanations (default content)- Common terms assumed known- Standard code examples- Setup instructions present but concise**Advanced Mode:**- Condensed explanations, focus on advanced topics- Technical terms not defined- Complex code examples, minimal comments- Setup instructions minimal (assumes experience)- Additional "Deep Dive" sections visibleImplementation:- Content variants stored in MDX using conditional rendering- React component wraps personalized sections- User level stored in React context/localStorage- Example MDX structure:`jsx<PersonalizedContent> <Beginner>Detailed explanation...</Beginner> <Intermediate>Standard explanation...</Intermediate> <Advanced>Brief, advanced explanation...</Advanced></PersonalizedContent>`Feature 3: Urdu TranslationTranslation Button:- Location: Next to personalization button at chapter top- UI: "Translate to Urdu" / "Show in English" toggle- Flag icons: ðŸ‡¬ðŸ‡§ English / ðŸ‡µðŸ‡° Urdu- Available only for logged-in usersTranslation Service:- Use OpenAI GPT-4 for translation (better context than Google Translate)- API endpoint: `/api/translate`- Request: `{ chapter_id, content, target_language: 'ur' }`- Response: `{ translated_content, cached: true/false }`Translation Rules:- Translate: Regular text, headings, descriptions, explanations- Keep in English: Code blocks, file names, commands, technical variables- Transliterate: Technical terms without Urdu equivalent (e.g., "ROS" â†’ "Ø±Ø§Ø³")- Format preservation: Markdown structure, code blocks, admonitionsCaching Strategy:`sqlCREATE TABLE translations ( id SERIAL PRIMARY KEY, chapter_id VARCHAR, source_language VARCHAR, target_language VARCHAR, content_hash VARCHAR, translated_content TEXT, created_at TIMESTAMP);`Translation Flow:1. User clicks "Translate to Urdu"2. Check cache: If exists, return cached translation3. If not cached: Call OpenAI API for translation4. Store in cache for future users5. Render translated content6. User preference saved (auto-translate future chapters)UI Integration:Chapter Header Component:`jsx<ChapterHeader> <ChapterTitle>Chapter 1.1: ROS 2 Fundamentals</ChapterTitle> <ChapterActions> {isLoggedIn && ( <> <PersonalizationToggle enabled={personalization} level={userLevel} onChange={togglePersonalization} /> <TranslationToggle language={language} onChange={toggleTranslation} /> </> )} </ChapterActions> {userLevel && <LevelBadge level={userLevel} />}</ChapterHeader>`Constraints:- Translation API cost: Cache aggressively- Personalization: Don't alter original content files, use runtime rendering- Authentication: Better Auth library required- Database: Neon Postgres for all user data- Performance: Personalization instant, translation < 3s first time, instant after cacheDeliverables:1. Better Auth integration (auth pages, session management)2. Background questionnaire form and logic3. User profile schema and API endpoints4. Personalization toggle component5. Personalized content wrapper component6. Translation service API endpoint7. Translation toggle component8. Translation cache system9. User settings page for preferences10. Documentation for content authors on using personalization tagsAcceptance Criteria:- Users can signup/signin in < 2 minutes- Background questions completed in < 3 minutes- Personalization accurately adjusts content complexity- Urdu translation covers 95%+ of content- Features work seamlessly with existing Docusaurus site- Non-logged-in users see standard content without issues- Performance: No noticeable slowdown